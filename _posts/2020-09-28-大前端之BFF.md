---
categories:
 - Node
---
### 概念
`BFF`(Backend for Frontend),主要是为了前端服务，可以理解为各种端（browser、app、miniprogram）和后端各种微服务、API之间的一层胶水代码，也称用户体验适配器。这层代码主要的业务场景也比较集中，大多数是请求转发、数据组织、接口适配、权鉴和SSR。
`BFF`只是一种逻辑分层，而非一种技术。
![BFF](/note/jinus/img/bff.webp)
### 优缺点
`BFF`作为中间层，优点是：
- 前后端彻底分离，即便是后期有微服务迁移，也不需要改动前端代码
- 业务更向前靠拢，琐碎的api由前端开发自己决定，更适配前端框架
- `BFF`可以自开mock，插件方便生成API文档
- 留给后端更清晰的服务边界，只需要提供粗粒度的接口即可

缺点也很明显
- 中间层转发会增加请求延迟
- 需要保证端到端测试
- 必须随时准备好后端异常请求
- `BFF`分层会增加开发成本